<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>50. Async, defer, динамические скрипты</title>
</head>
<body>
    <script defer src="js/script.js"></script>
    <script defer src="js/test.js"></script>
    <!-- Атрибут defer – сообщить браузеру, что необходимо продолжить обработку страницы и загружать
         этот скрипт в фоновом режиме. Скрипт запустится только после его полной загрузки.
         ---
         1) Скрипты с атрибутом defer никогда не блокируют страницу.
         2) Скрипты с этим атрибутом выполняются только тогда, когда DOM-дерево окончило своё
            построение.
         3) Скрипты срабатывают до события 'DOMContentLoaded'. Это не более, чем небольшой факт, он ни на
            что не влияет.
         4) Скрипты сохраняют последовательность относительно друг друга, как и скрипты без этого атрибута.
            Первым выполнится script.js, а затем test.js. -->

    <script async src="js/script.js"></script>
    <script async src="js/test.js"></script>
    <!-- Атрибут async:
         1) Страница не ждёт загрузки асинхронных скриптов. Содержимое просто обрабатывается и отображается.
         2) Событие 'DOMContentLoaded' и асинхронные скрипты не ждут друг друга. Последовательности в выполнении
            таких скриптов между собой не существует.
        ---
        Зачем такое поведение необходимо?
        Дело в том, что иногда необходимо подключать сторонние скрипты, которые не особо подвязаны как под
        DOM-структуру, так и под другой функционал (например, метрики и счётчики).
        ---
        Когда используется атрибут async, необходимо удостовериться, что этот скрипт абсолютно не зависит от
        DOM-структуры, в том числе он не должен зависеть от других скриптов. -->
    
    <p>Hello world</p>
    <p>Second message</p>
</body>
</html>